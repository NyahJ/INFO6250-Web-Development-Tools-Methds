{"version":3,"file":"site.js","mappings":"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","sources":["webpack://js-cart/./src/site.js"],"sourcesContent":["\"use strict\";\n//import { PAGES, state} from './constants.js';\n\n(function() {\n\nconst PAGES = {\n    PRODUCTS: 'products',\n    CART: 'cart',\n}\n    const state = {\n        cats: [\n            { name: 'Apple', price: 0.99, url: 'http://placekitten.com/150/150?image=1', quantity: 0 },\n            { name: 'Orange', price: 3.14, url: 'http://placekitten.com/150/150?image=2', quantity: 0 },\n            { name: 'Pear', price: 2.73, url: 'http://placekitten.com/150/150?image=3', quantity: 0 },\n        ],\n        page: PAGES.PRODUCTS,\n    };\n\n    const stateOfCart = {\n        catsInCart: [\n            { name: 'Apple', price: 0.99, url: 'http://placekitten.com/150/150?image=1', quantity: 0 },\n            { name: 'Orange', price: 3.14, url: 'http://placekitten.com/150/150?image=2', quantity: 0 },\n            { name: 'Pear', price: 2.73, url: 'http://placekitten.com/150/150?image=3', quantity: 0 },\n        ],\n        page: PAGES.CART,\n    };\n\n    let totalQuantity = 0;\n    let totalPrice = 0;\n\n    const appEl = document.querySelector('#app');\n    appEl.addEventListener('click', (event) => {\n\n        if(event.target.classList.contains('add')) {\n            const index = event.target.dataset.index;\n            totalQuantity++;\n            totalPrice += stateOfCart.catsInCart[index].price;\n            stateOfCart.catsInCart[index].quantity++;\n\n            render();\n            return;\n        }\n\n        if(event.target.classList.contains('decrease')) {\n            const index = event.target.dataset.index;\n            if (stateOfCart.catsInCart[index].quantity > 0) {\n                totalQuantity--;\n                totalPrice -= stateOfCart.catsInCart[index].price;\n                stateOfCart.catsInCart[index].quantity--;\n            }\n            render();\n            return;\n        }\n\n        if (event.target.classList.contains('page')) {\n            state.page = event.target.dataset.target;\n            render();\n            return;\n        }\n\n        if (event.target.classList.contains('clear')) {\n            totalPrice = 0;\n            totalQuantity = 0;\n\n            let index = 0;\n            for(index = 0; index < stateOfCart.catsInCart.length; index++) {\n                stateOfCart.catsInCart[index].quantity = 0;\n            }\n\n            render();\n            return;\n        }\n    });\n\n\n// VIEW: rendering related stuff;\n    function render() {\n        if(state.page === PAGES.PRODUCTS) {\n            renderProducts();\n            return;\n        }\n\n        if (state.page === PAGES.CART) {\n            renderCart();\n            return;\n        }\n    }\n\n    function renderProducts() {\n        if(state.page === PAGES.PRODUCTS) {\n            const productsHtml = state.cats.map( (cat, index) => {\n            return `\n            <li>\n             <span class=\"cat\", data-index=\"${index}\">\n                ${cat.name}, $${cat.price} </span>\n                <img src=\"${cat.url}\"/>\n                <button type=\"button\" class=\"add\" data-index=\"${index}\">\n                    Add to Cart\n                </button>\n            </li>\n            `;\n            }).join('');\n\n            if (totalQuantity === 0) {\n                const html = `\n                    <h2>GET YOUR CATS</h2>\n                    <ul class=\"cats\">${productsHtml}</ul>\n                    <button type=\"button\" class=\"page\" class=\"view\" data-target=\"cart\">\n                        View Cart\n                    </button>\n                `;\n                appEl.innerHTML = html;\n            } else {\n                const html = `\n                    <h2>GET YOUR CATS</h2>\n                    <ul class=\"cats\">${productsHtml}</ul>\n                    <button type=\"button\" class=\"page\" class=\"view\" data-target=\"cart\">\n                        View Cart (${totalQuantity})\n                    </button>\n                `;\n                appEl.innerHTML = html;\n            }\n        }\n    }\n\n    function renderCart() {\n        if (state.page === PAGES.CART) {\n            const productsHtml = state.cats.map( (cat, index) => {\n            return `\n                 <li>\n                    <span class=\"cat\", data-index=\"${index}\">\n                        ${cat.name}, $${cat.price} </span>\n                        <img src=\"${cat.url}\"/>\n                        <button type=\"button\" class=\"add\" data-index=\"${index}\">\n                            Add to Cart\n                        </button>\n                </li>\n                `;\n                }).join('');\n\n\n        let cartHtml = `<h4>Nothing in the cart</h4>`;\n\n        if(totalQuantity != 0) {\n            cartHtml = stateOfCart.catsInCart.map( (catInCart, index) => {\n            if (catInCart.quantity === 0) {\n            return;\n            } else {\n            return `\n                 <li>\n                    <span class=\"catInCart\", data-index=\"${index}\">\n                        ${catInCart.name}, ${catInCart.quantity} in cart,\n                        ${Number.parseFloat(catInCart.quantity * catInCart.price).toFixed(2)}$\n                    </span>\n                        <img src=\"${catInCart.url}\"/>\n                        <button type=\"button\" class=\"add\" data-index=\"${index}\">\n                            Increase\n                        </button>\n                        <button type=\"button\" class=\"decrease\" data-index=\"${index}\">\n                            Decrease\n                        </button>\n                </li>\n                `;}\n                }).join('');\n                }\n\n                const html = `\n                    <h2>GET YOUR CATS</h2>\n                    <ul class=\"cats\">${productsHtml}</ul>\n                    <h2>YOUR CART</h2>\n                    <h3>Total Price: $${Number.parseFloat(totalPrice).toFixed(2)}</h3>\n                    <button type=\"button\" class=\"clear\" data-target=\"product\">\n                        Checkout\n                    </button>\n                    <button type=\"button\" class=\"page\" data-target=\"products\">\n                        Hide Cart\n                    </button>\n\n                    <ul class=\"cats\">${cartHtml}</ul>\n\n                `;\n                appEl.innerHTML = html;\n        }\n    }\n\n    render();\n\n})();"],"names":["PAGES","PRODUCTS","CART","state","cats","name","price","url","quantity","page","stateOfCart","catsInCart","totalQuantity","totalPrice","appEl","document","querySelector","addEventListener","event","target","classList","contains","index","dataset","render","length","renderProducts","renderCart","productsHtml","map","cat","join","html","innerHTML","cartHtml","catInCart","Number","parseFloat","toFixed"],"sourceRoot":""}